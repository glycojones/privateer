var CCP4Module;importScripts("web_example.js"),createCCP4Module({print(e){postMessage(["output",e])},printErr(e){postMessage(["output",e])}}).then((function(e){CCP4Module=e})).catch((e=>{console.log("CCP4 problem :("),console.log(e)})),onmessage=function(e){var o=atob(e.data[0]),l=e.data[1];const t=new Array(o.length);for(let e=0;e<o.length;e++)t[e]=o.charCodeAt(e);const r=new Uint8Array(t);try{CCP4Module.FS_createDataFile(".",l,r,!0,!0)}catch(e){}console.log("Send",l,"to clipper");var n=CCP4Module.clipper_example(l);console.log("In the worker..."),console.log(n),console.log(n.cell()),console.log(n.cell().a()),CCP4Module.printMapStats(n);var a=new CCP4Module.CCP4MAPfile,p=new CCP4Module.Clipper_String("mapout.map");a.open_write(p),CCP4Module.exportXMapToMapFile(a,n),a.close_write(),console.log("Written",CCP4Module.clipperStringToString(p));var C=CCP4Module.FS.readFile(CCP4Module.clipperStringToString(p));postMessage(["result",C])};